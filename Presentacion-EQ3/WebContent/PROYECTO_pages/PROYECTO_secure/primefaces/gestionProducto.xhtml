<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
	"http://www.w3.org/TR/xhtmll/DTD/xhtmll-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui = "http://java.sun.com/jsf/facelets"
	xmlns:h = "http://java.sun.com/jsf/html"
	xmlns:f = "http://java.sun.com/jsf/core"
	xmlns:p= "http://primefaces.org/ui">
	<!-- header -->
	<ui:insert name="header">
		<ui:include src="/PROYECTO_pages/PROYECTO_secure/primefaces/template/common/commonHeader.xhtml"/>
	</ui:insert>
	
	<h:body class="fixed-nav sticky-footer bg-dark" id="page-top" >
		<!-- Navigator -->
		<ui:insert name="header">
			<ui:include src="/PROYECTO_pages/PROYECTO_secure/primefaces/template/common/commonNavigator.xhtml"/>
		</ui:insert>
		
		<!-- Body -->
		<div class="content-wrapper">
			<div class="container-fluid">
				<!-- Escribir Código aquí -->
				<br/>
				<h:form id="form">
			        <p:growl id="msgs" showDetail="true"/>
			        <p:dataTable id="producto" widgetVar="productoTable" var="pro" value = "#{selector.getProductoList()}" scrollable="true" scrollHeight="530" editable="true" style="margin-botton:20px">
			        	<f:facet name="header">Productos(Modificar, Eliminar y Consultar)</f:facet>
			            <p:ajax event="rowEdit" listener="#{selector.onRowEdit}" update=":form:msgs"/>
			            <p:ajax  event="rowEditCancel" listener="#{selector.onRowCancel}" update=":form:msgs"/>
			            <p:column headerText="Id" style="width:80px">
			            	<p:cellEditor>
			                	<f:facet name="output">
                                    <h:outputText value="#{pro.idProducto}"/>
                                </f:facet>
			                                
                                <f:facet name="input">
                                    <h:inputText id="productoInput" value="#{pro.idProducto}" style="with::100%"></h:inputText>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
			                         
			                         
                        <p:column headerText="Descripcion" style="width:80px" filterBy="#{pro.descripcion}">
                            <p:cellEditor>
                                <f:facet name="output">
                                    <h:outputText value="#{pro.descripcion}"/>
                                </f:facet>
                               
                                <f:facet name="input">
                                    <h:inputText value="#{pro.descripcion}" style="with::100%" label="Descripción"/>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
			                         
                        <p:column headerText="TIPO" style="width:110px" filterBy="#{pro.tipo}">
                            <p:cellEditor>
                                <f:facet name="output">
                                    <h:outputText value="#{pro.tipo}"/>
                                </f:facet>
                               
                                <f:facet name="input">
                                    <h:inputText value="#{pro.tipo}" style="with::100%" label="TIPO"/>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
                        
                         <p:column headerText="Marca" style="width:100px" filterBy="#{pro.marca}">
                            <p:cellEditor>
                                <f:facet name="output">
                                    <h:outputText value="#{pro.marca}"/>
                                </f:facet>
                               
                                <f:facet name="input">
                                    <h:inputText value="#{pro.marca}" style="with::100%" label="Marca"/>
                                </f:facet>
                            </p:cellEditor>
                        </p:column> 
			                         
                        <p:column headerText="Precio de Compra" style="width:100px" >
                            <p:cellEditor>
                                <f:facet name="output">
                                    <h:outputText value="#{pro.precioCompra}"/>
                                </f:facet>
                               
                                <f:facet name="input">
                                    <h:inputText value="#{pro.precioCompra}" style="with::100%" label="Precio de Compra"/>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
                        
                        <p:column headerText="Precio de Venta" style="width:100px">
                            <p:cellEditor>
                                <f:facet name="output">
                                    <h:outputText value="#{pro.precioVenta}"/>
                                </f:facet>
                               
                                <f:facet name="input">
                                    <h:inputText value="#{pro.precioVenta}" style="with::100%" label="Precio de Venta"/>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
                        
                        <p:column headerText="Cantidad" style="width:100px">
                            <p:cellEditor>
                                <f:facet name="output">
                                    <h:outputText value="#{pro.cantidad}"/>
                                </f:facet>
                               
                                <f:facet name="input">
                                    <h:inputText value="#{pro.cantidad}" style="with::100%" label="Cantidad"/>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
			                         
                       
                        <p:column style="width:32px">
                            <p:rowEditor/>
                        </p:column>  
                        <p:column style="width:32px">
			               <h:commandLink action="#{selector.deleteProducto(pro)}" id="Eliminar" value="X" />
			            </p:column>                                     
			        </p:dataTable>
			    </h:form>
			</div>	
		</div>
		
		<!-- Footer -->
			<ui:insert name="footer">
				<ui:include src="/PROYECTO_pages/PROYECTO_secure/primefaces/template/common/commonFooter2.xhtml"/>
			</ui:insert>
	</h:body>
</html>